{"ast":null,"code":"var _s = $RefreshSig$();\n\n/* eslint-disable no-unused-vars */\nimport { useQuery } from 'react-query';\nimport defaults from '../common/defaults';\nimport { getMinter, getMinterDailyLimits, getCycleMints } from '../common/ethereum';\nexport const useCycleMints = function () {\n  _s();\n\n  let staleTime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaults.api.staleTime;\n  const {\n    data: minter\n  } = useQuery('minter', async () => {\n    return await getMinter();\n  }, {\n    staleTime: staleTime\n  });\n  const limits = useQuery('dailyLimits', async () => {\n    return await getMinterDailyLimits(minter);\n  }, {\n    staleTime: staleTime,\n    enabled: !!minter\n  });\n  const {\n    data: cycleMints\n  } = useQuery('cycleMints', async () => {\n    return await getCycleMints(minter);\n  }, {\n    staleTime: defaults.api.staleTime\n  }, {\n    staleTime: staleTime,\n    enabled: !!minter\n  });\n\n  if (limits !== null && limits !== void 0 && limits.data[1]) {\n    console.log(limits.data[1].sub(cycleMints));\n  }\n\n  return 'nothing';\n};\n\n_s(useCycleMints, \"Vr+oJuoChSMd6IaBb7rXv4dY/Go=\", false, function () {\n  return [useQuery, useQuery, useQuery];\n});","map":{"version":3,"sources":["/home/augustin/vader-dapp/src/hooks/useCycleMints.js"],"names":["useQuery","defaults","getMinter","getMinterDailyLimits","getCycleMints","useCycleMints","staleTime","api","data","minter","limits","enabled","cycleMints","console","log","sub"],"mappings":";;AAAA;AACA,SAASA,QAAT,QAAyB,aAAzB;AACA,OAAOC,QAAP,MAAqB,oBAArB;AACA,SAASC,SAAT,EAAoBC,oBAApB,EAA0CC,aAA1C,QAA+D,oBAA/D;AAEA,OAAO,MAAMC,aAAa,GAAG,YAAwC;AAAA;;AAAA,MAAvCC,SAAuC,uEAA3BL,QAAQ,CAACM,GAAT,CAAaD,SAAc;AAEpE,QAAM;AAAEE,IAAAA,IAAI,EAAEC;AAAR,MAAmBT,QAAQ,CAAC,QAAD,EAAW,YAAY;AACvD,WAAO,MAAME,SAAS,EAAtB;AACA,GAFgC,EAE9B;AACFI,IAAAA,SAAS,EAAEA;AADT,GAF8B,CAAjC;AAOA,QAAMI,MAAM,GAAGV,QAAQ,CAAC,aAAD,EAAgB,YAAY;AAClD,WAAO,MAAMG,oBAAoB,CAACM,MAAD,CAAjC;AACA,GAFsB,EAEpB;AACFH,IAAAA,SAAS,EAAEA,SADT;AAEFK,IAAAA,OAAO,EAAE,CAAC,CAACF;AAFT,GAFoB,CAAvB;AAQA,QAAM;AAAED,IAAAA,IAAI,EAAEI;AAAR,MAAuBZ,QAAQ,CAAC,YAAD,EACpC,YAAY;AACX,WAAO,MAAMI,aAAa,CAACK,MAAD,CAA1B;AACA,GAHmC,EAGjC;AACFH,IAAAA,SAAS,EAAEL,QAAQ,CAACM,GAAT,CAAaD;AADtB,GAHiC,EAKjC;AACFA,IAAAA,SAAS,EAAEA,SADT;AAEFK,IAAAA,OAAO,EAAE,CAAC,CAACF;AAFT,GALiC,CAArC;;AAWA,MAAGC,MAAH,aAAGA,MAAH,eAAGA,MAAM,CAAEF,IAAR,CAAa,CAAb,CAAH,EAAoB;AACnBK,IAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAM,CAACF,IAAP,CAAY,CAAZ,EAAeO,GAAf,CAAmBH,UAAnB,CAAZ;AACA;;AAED,SAAO,SAAP;AAEA,CAlCM;;GAAMP,a;UAEaL,Q,EAOVA,Q,EAQcA,Q","sourcesContent":["/* eslint-disable no-unused-vars */\nimport { useQuery } from 'react-query'\nimport defaults from '../common/defaults'\nimport { getMinter, getMinterDailyLimits, getCycleMints } from '../common/ethereum'\n\nexport const useCycleMints = (staleTime = defaults.api.staleTime) => {\n\n\tconst { data: minter } = useQuery('minter', async () => {\n\t\treturn await getMinter()\n\t}, {\n\t\tstaleTime: staleTime,\n\t},\n\t)\n\n\tconst limits = useQuery('dailyLimits', async () => {\n\t\treturn await getMinterDailyLimits(minter)\n\t}, {\n\t\tstaleTime: staleTime,\n\t\tenabled: !!minter,\n\t},\n\t)\n\n\tconst { data: cycleMints } = useQuery('cycleMints',\n\t\tasync () => {\n\t\t\treturn await getCycleMints(minter)\n\t\t}, {\n\t\t\tstaleTime: defaults.api.staleTime,\n\t\t}, {\n\t\t\tstaleTime: staleTime,\n\t\t\tenabled: !!minter,\n\t\t},\n\t)\n\n\tif(limits?.data[1]) {\n\t\tconsole.log(limits.data[1].sub(cycleMints))\n\t}\n\n\treturn 'nothing'\n\n}"]},"metadata":{},"sourceType":"module"}