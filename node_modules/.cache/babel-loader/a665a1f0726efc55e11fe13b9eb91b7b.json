{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useQuery, gql } from '@apollo/client';\nimport defaults from '../common/defaults';\nexport const useXvaderPrice = function () {\n  _s();\n\n  let first = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  let pollInterval = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaults.api.pollInterval;\n  let type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'Day';\n  const query = first > 0 ? gql`\n\tquery {\n\t\tglobals(\n\t\t\t${first ? `first: ${first}` : ''}\n\t\t\tskip: 0,\n\t\t\torderBy: timestamp,\n\t\t\torderDirection: desc,\n\t\t\twhere:{ \n\t\t\t\tname: \"XVADER_PRICE\",\n\t\t\t\ttype: \"${type}\"\n\t\t\t}) {\n\t\t\tid\n\t\t\tname\n\t\t\tvalue\n\t\t\ttype\n\t\t\ttimestamp\n\t\t}\n\t}\n\t` : gql`\n\tquery {\n\t\tglobal(id: \"XVADER_PRICE\") {\n\t\t\tid\n\t\t\tname\n\t\t\tvalue\n\t\t}\n\t}`;\n  const {\n    data,\n    error,\n    loading\n  } = useQuery(query, {\n    pollInterval: pollInterval\n  });\n  return [data, loading, error];\n};\n\n_s(useXvaderPrice, \"eE+cqeCo2lkI//dPlCsO1rICVGU=\", false, function () {\n  return [useQuery];\n});","map":{"version":3,"sources":["/home/augustin/vader-dapp/src/hooks/useXvaderPrice.js"],"names":["useQuery","gql","defaults","useXvaderPrice","first","pollInterval","api","type","query","data","error","loading"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,GAAnB,QAA8B,gBAA9B;AACA,OAAOC,QAAP,MAAqB,oBAArB;AAEA,OAAO,MAAMC,cAAc,GAAG,YAAuE;AAAA;;AAAA,MAAtEC,KAAsE,uEAA9D,CAA8D;AAAA,MAA3DC,YAA2D,uEAA5CH,QAAQ,CAACI,GAAT,CAAaD,YAA+B;AAAA,MAAjBE,IAAiB,uEAAV,KAAU;AAEpG,QAAMC,KAAK,GAAGJ,KAAK,GAAG,CAAR,GAAYH,GAAI;AAC/B;AACA;AACA,KAAKG,KAAK,GAAI,UAASA,KAAM,EAAnB,GAAuB,EAAG;AACpC;AACA;AACA;AACA;AACA;AACA,aAAaG,IAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAlBe,GAkBVN,GAAI;AACT;AACA;AACA;AACA;AACA;AACA;AACA,GAzBC;AA2BA,QAAM;AAAEQ,IAAAA,IAAF;AAAQC,IAAAA,KAAR;AAAeC,IAAAA;AAAf,MAA2BX,QAAQ,CACxCQ,KADwC,EAExC;AACGH,IAAAA,YAAY,EAAEA;AADjB,GAFwC,CAAzC;AAOA,SAAO,CAACI,IAAD,EAAOE,OAAP,EAAgBD,KAAhB,CAAP;AACA,CArCM;;GAAMP,c;UA6BqBH,Q","sourcesContent":["import { useQuery, gql } from '@apollo/client'\nimport defaults from '../common/defaults'\n\nexport const useXvaderPrice = (first = 0, pollInterval = defaults.api.pollInterval, type = 'Day') => {\n\n\tconst query = first > 0 ? gql`\n\tquery {\n\t\tglobals(\n\t\t\t${first ? `first: ${first}` : ''}\n\t\t\tskip: 0,\n\t\t\torderBy: timestamp,\n\t\t\torderDirection: desc,\n\t\t\twhere:{ \n\t\t\t\tname: \"XVADER_PRICE\",\n\t\t\t\ttype: \"${type}\"\n\t\t\t}) {\n\t\t\tid\n\t\t\tname\n\t\t\tvalue\n\t\t\ttype\n\t\t\ttimestamp\n\t\t}\n\t}\n\t` :\tgql`\n\tquery {\n\t\tglobal(id: \"XVADER_PRICE\") {\n\t\t\tid\n\t\t\tname\n\t\t\tvalue\n\t\t}\n\t}`\n\n\tconst { data, error, loading } = useQuery(\n\t\tquery,\n\t\t{\n   \t\tpollInterval: pollInterval,\n\t\t},\n\t)\n\n\treturn [data, loading, error]\n}"]},"metadata":{},"sourceType":"module"}