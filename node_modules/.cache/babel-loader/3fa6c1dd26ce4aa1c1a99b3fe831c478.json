{"ast":null,"code":"var _s = $RefreshSig$();\n\n/* eslint-disable no-unused-vars */\nimport { useQuery as useApolloQuery, gql } from '@apollo/client';\nimport { useQuery } from 'react-query';\nimport { getVirtualPrice } from '../common/ethereum';\nimport { useERC20Balance } from './useERC20Balance';\nimport defaults from '../common/defaults';\nexport const useUSDVprice = function () {\n  _s();\n\n  let rpc = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  let pollInterval = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaults.api.graphql.pollInterval;\n  let staleTime = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaults.api.staleTime;\n\n  if (!rpc) {// GQL 2 DO\n  } else {\n    const balance = useERC20Balance(defaults.address.usdv, defaults.address.usdv3crvf);\n    const virtualPrice = useQuery(`viretualPrice_${defaults.address.usdv3crvf}`, async () => {\n      return await getVirtualPrice();\n    }, {\n      staleTime: defaults.api.staleTime\n    });\n\n    if (balance !== null && balance !== void 0 && balance.data && virtualPrice !== null && virtualPrice !== void 0 && virtualPrice.data) {\n      var _balance$data;\n\n      console.log(balance === null || balance === void 0 ? void 0 : (_balance$data = balance.data) === null || _balance$data === void 0 ? void 0 : _balance$data.div(virtualPrice === null || virtualPrice === void 0 ? void 0 : virtualPrice.data));\n    }\n  }\n};\n\n_s(useUSDVprice, \"JmKdkLcDISma6UJmPQ1y8dXi318=\", false, function () {\n  return [useERC20Balance, useQuery];\n});","map":{"version":3,"sources":["/home/augustin/vader-dapp/src/hooks/useUSDVprice.js"],"names":["useQuery","useApolloQuery","gql","getVirtualPrice","useERC20Balance","defaults","useUSDVprice","rpc","pollInterval","api","graphql","staleTime","balance","address","usdv","usdv3crvf","virtualPrice","data","console","log","div"],"mappings":";;AAAA;AACA,SAASA,QAAQ,IAAIC,cAArB,EAAqCC,GAArC,QAAgD,gBAAhD;AACA,SAASF,QAAT,QAAyB,aAAzB;AACA,SAASG,eAAT,QAAgC,oBAAhC;AACA,SAASC,eAAT,QAAgC,mBAAhC;AACA,OAAOC,QAAP,MAAqB,oBAArB;AAEA,OAAO,MAAMC,YAAY,GAAG,YAAsG;AAAA;;AAAA,MAArGC,GAAqG,uEAA/F,IAA+F;AAAA,MAAzFC,YAAyF,uEAA1EH,QAAQ,CAACI,GAAT,CAAaC,OAAb,CAAqBF,YAAqD;AAAA,MAAvCG,SAAuC,uEAA3BN,QAAQ,CAACI,GAAT,CAAaE,SAAc;;AAEjI,MAAI,CAACJ,GAAL,EAAU,CACT;AACA,GAFD,MAGK;AAEJ,UAAMK,OAAO,GAAGR,eAAe,CAACC,QAAQ,CAACQ,OAAT,CAAiBC,IAAlB,EAAwBT,QAAQ,CAACQ,OAAT,CAAiBE,SAAzC,CAA/B;AAEA,UAAMC,YAAY,GAAGhB,QAAQ,CAAE,iBAAgBK,QAAQ,CAACQ,OAAT,CAAiBE,SAAU,EAA7C,EAC5B,YAAY;AACX,aAAO,MAAMZ,eAAe,EAA5B;AACA,KAH2B,EAGzB;AACFQ,MAAAA,SAAS,EAAEN,QAAQ,CAACI,GAAT,CAAaE;AADtB,KAHyB,CAA7B;;AAQA,QAAIC,OAAO,SAAP,IAAAA,OAAO,WAAP,IAAAA,OAAO,CAAEK,IAAT,IACHD,YADG,aACHA,YADG,eACHA,YAAY,CAAEC,IADf,EACqB;AAAA;;AACpBC,MAAAA,OAAO,CAACC,GAAR,CAAYP,OAAZ,aAAYA,OAAZ,wCAAYA,OAAO,CAAEK,IAArB,kDAAY,cAAeG,GAAf,CAAmBJ,YAAnB,aAAmBA,YAAnB,uBAAmBA,YAAY,CAAEC,IAAjC,CAAZ;AACA;AACD;AAED,CAvBM;;GAAMX,Y;UAOKF,e,EAEKJ,Q","sourcesContent":["/* eslint-disable no-unused-vars */\nimport { useQuery as useApolloQuery, gql } from '@apollo/client'\nimport { useQuery } from 'react-query'\nimport { getVirtualPrice } from '../common/ethereum'\nimport { useERC20Balance } from './useERC20Balance'\nimport defaults from '../common/defaults'\n\nexport const useUSDVprice = (rpc = true, pollInterval = defaults.api.graphql.pollInterval, staleTime = defaults.api.staleTime) => {\n\n\tif (!rpc) {\n\t\t// GQL 2 DO\n\t}\n\telse {\n\n\t\tconst balance = useERC20Balance(defaults.address.usdv, defaults.address.usdv3crvf)\n\n\t\tconst virtualPrice = useQuery(`viretualPrice_${defaults.address.usdv3crvf}`,\n\t\t\tasync () => {\n\t\t\t\treturn await getVirtualPrice()\n\t\t\t}, {\n\t\t\t\tstaleTime: defaults.api.staleTime,\n\t\t\t},\n\t\t)\n\n\t\tif (balance?.data &&\n\t\t\tvirtualPrice?.data) {\n\t\t\tconsole.log(balance?.data?.div(virtualPrice?.data))\n\t\t}\n\t}\n\n}"]},"metadata":{},"sourceType":"module"}