{"ast":null,"code":"var _jsxFileName = \"/home/augustin/vader-dapp/src/components/BalanceIndicator.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { BigNumber, utils } from 'ethers';\nimport { Button, Box, Image, Fade, Popover, PopoverTrigger, Portal, PopoverContent, PopoverBody, Flex, Container, useBreakpointValue } from '@chakra-ui/react';\nimport defaults from '../common/defaults';\nimport { useXvaderPrice } from '../hooks/useXvaderPrice';\nimport { prettifyNumber } from '../common/utils';\nimport { useERC20Balance } from '../hooks/useERC20Balance';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Item = props => {\n  Item.propTypes = {\n    name: PropTypes.string.isRequired,\n    token: PropTypes.object.isRequired,\n    value: PropTypes.any.isRequired\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      children: props.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Flex, {\n      children: [/*#__PURE__*/_jsxDEV(Container, {\n        p: \"0\",\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          children: /*#__PURE__*/_jsxDEV(Flex, {\n            justifyContent: \"flex-start\",\n            fontWeight: \"bolder\",\n            children: [/*#__PURE__*/_jsxDEV(Image, {\n              width: \"24px\",\n              height: \"24px\",\n              mr: \"5px\",\n              src: props.token.logoURI,\n              alt: `${props.token.name} token`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 31,\n              columnNumber: 8\n            }, this), props.token.symbol]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        p: \"0\",\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          fontSize: {\n            base: '1rem',\n            md: '1.2rem'\n          },\n          fontWeight: \"bold\",\n          textAlign: \"right\",\n          children: props.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 3\n  }, this);\n};\n\n_c = Item;\nexport const BalanceIndicator = () => {\n  _s();\n\n  var _usdvBalance$data, _usdvBalance$data2, _xvaderBalance$data, _vaderBalance$data, _usdvBalance$data3;\n\n  const xvdrExchangeRate = useXvaderPrice();\n  const vaderBalance = useERC20Balance(defaults.vader.address);\n  const xvaderBalance = useERC20Balance(defaults.xvader.address);\n  const usdvBalance = useERC20Balance(defaults.usdv.address);\n\n  const totalBalance = function () {\n    var _xvdrExchangeRate$;\n\n    let total = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n    if (xvdrExchangeRate !== null && xvdrExchangeRate !== void 0 && (_xvdrExchangeRate$ = xvdrExchangeRate[0]) !== null && _xvdrExchangeRate$ !== void 0 && _xvdrExchangeRate$.global.value && xvaderBalance !== null && xvaderBalance !== void 0 && xvaderBalance.data && vaderBalance !== null && vaderBalance !== void 0 && vaderBalance.data) {\n      var _xvdrExchangeRate$2, _xvdrExchangeRate$2$g;\n\n      return utils.formatEther(BigNumber.from(xvdrExchangeRate === null || xvdrExchangeRate === void 0 ? void 0 : (_xvdrExchangeRate$2 = xvdrExchangeRate[0]) === null || _xvdrExchangeRate$2 === void 0 ? void 0 : (_xvdrExchangeRate$2$g = _xvdrExchangeRate$2.global) === null || _xvdrExchangeRate$2$g === void 0 ? void 0 : _xvdrExchangeRate$2$g.value).mul(xvaderBalance === null || xvaderBalance === void 0 ? void 0 : xvaderBalance.data).div(utils.parseUnits('1', 18)).add(total ? vaderBalance === null || vaderBalance === void 0 ? void 0 : vaderBalance.data : 0));\n    }\n  };\n\n  const placement = useBreakpointValue({\n    base: 'bottom-end',\n    md: 'auto'\n  });\n  const view = useBreakpointValue({\n    base: false,\n    md: false,\n    lg: true\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: (Number(totalBalance()) > 0 || (usdvBalance === null || usdvBalance === void 0 ? void 0 : (_usdvBalance$data = usdvBalance.data) === null || _usdvBalance$data === void 0 ? void 0 : _usdvBalance$data.gt(0))) && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Popover, {\n        closeOnEsc: true,\n        closeOnBlur: true,\n        matchWidth: true,\n        placement: placement,\n        children: [/*#__PURE__*/_jsxDEV(PopoverTrigger, {\n          children: /*#__PURE__*/_jsxDEV(Fade, {\n            unmountOnExit: true,\n            in: true,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              size: \"md\",\n              fontSize: {\n                base: '0.65rem',\n                sm: 'sm'\n              },\n              variant: \"outlineAlter\",\n              display: \"flex\",\n              flexDirection: \"row\",\n              alignItems: \"center\",\n              transform: {\n                base: 'scale(0.86)',\n                sm: 'scale(1)'\n              },\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                display: \"inline-flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                borderRadius: \"12px\",\n                background: \"#000\",\n                p: \"7px 10px\",\n                gridGap: \"13px\",\n                children: [Number(totalBalance()) > 0 && /*#__PURE__*/_jsxDEV(Box, {\n                  d: \"flex\",\n                  alignItems: \"center\",\n                  children: [/*#__PURE__*/_jsxDEV(Image, {\n                    width: \"24px\",\n                    height: \"24px\",\n                    mr: \"5px\",\n                    src: defaults.vader.logoURI,\n                    alt: `${defaults.vader.name} token`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 121,\n                    columnNumber: 13\n                  }, this), /*#__PURE__*/_jsxDEV(Box, {\n                    as: \"h3\",\n                    m: \"0\",\n                    fontSize: \"1.02rem\",\n                    fontWeight: \"bold\",\n                    textTransform: \"capitalize\",\n                    children: prettifyNumber(totalBalance(true), 0, 2, 'us', 'compact')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 13\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 12\n                }, this), (usdvBalance === null || usdvBalance === void 0 ? void 0 : (_usdvBalance$data2 = usdvBalance.data) === null || _usdvBalance$data2 === void 0 ? void 0 : _usdvBalance$data2.gt(0)) && view && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: /*#__PURE__*/_jsxDEV(Box, {\n                    d: \"flex\",\n                    alignItems: \"center\",\n                    overflow: \"hidden\",\n                    children: [/*#__PURE__*/_jsxDEV(Image, {\n                      width: \"24px\",\n                      height: \"24px\",\n                      mr: \"5px\",\n                      src: defaults.usdv.logoURI,\n                      alt: `${defaults.usdv.name} token`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 145,\n                      columnNumber: 14\n                    }, this), /*#__PURE__*/_jsxDEV(Box, {\n                      as: \"h3\",\n                      m: \"0\",\n                      fontSize: \"1.02rem\",\n                      fontWeight: \"bold\",\n                      textTransform: \"capitalize\",\n                      children: prettifyNumber(utils.formatEther(usdvBalance === null || usdvBalance === void 0 ? void 0 : usdvBalance.data), 0, 2, 'us', 'compact')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 152,\n                      columnNumber: 14\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 141,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Portal, {\n          children: /*#__PURE__*/_jsxDEV(PopoverContent, {\n            maxW: \"304px\",\n            children: /*#__PURE__*/_jsxDEV(PopoverBody, {\n              display: \"flex\",\n              flexDir: \"column\",\n              gridGap: \"0.9rem\",\n              padding: \"1.6rem 1.6rem\",\n              children: [Number(totalBalance(false)) > 0 && /*#__PURE__*/_jsxDEV(Item, {\n                name: 'Staking',\n                token: defaults.vader,\n                value: prettifyNumber(totalBalance(false), 0, 2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 11\n              }, this), (xvaderBalance === null || xvaderBalance === void 0 ? void 0 : (_xvaderBalance$data = xvaderBalance.data) === null || _xvaderBalance$data === void 0 ? void 0 : _xvaderBalance$data.gt(0)) && /*#__PURE__*/_jsxDEV(Item, {\n                name: 'Balance',\n                token: defaults.xvader,\n                value: prettifyNumber(utils.formatEther(xvaderBalance.data), 0, 2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 11\n              }, this), (vaderBalance === null || vaderBalance === void 0 ? void 0 : (_vaderBalance$data = vaderBalance.data) === null || _vaderBalance$data === void 0 ? void 0 : _vaderBalance$data.gt(0)) && /*#__PURE__*/_jsxDEV(Item, {\n                name: 'Balance',\n                token: defaults.vader,\n                value: prettifyNumber(utils.formatEther(vaderBalance.data), 0, 2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 11\n              }, this), (usdvBalance === null || usdvBalance === void 0 ? void 0 : (_usdvBalance$data3 = usdvBalance.data) === null || _usdvBalance$data3 === void 0 ? void 0 : _usdvBalance$data3.gt(0)) && /*#__PURE__*/_jsxDEV(Item, {\n                name: 'Balance',\n                token: defaults.usdv,\n                value: prettifyNumber(utils.formatEther(usdvBalance.data), 0, 2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 6\n      }, this)\n    }, void 0, false)\n  }, void 0, false);\n};\n\n_s(BalanceIndicator, \"YbtXbzkeVK9s4gkd5h+6avu2KPc=\", false, function () {\n  return [useXvaderPrice, useERC20Balance, useERC20Balance, useERC20Balance, useBreakpointValue, useBreakpointValue];\n});\n\n_c2 = BalanceIndicator;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Item\");\n$RefreshReg$(_c2, \"BalanceIndicator\");","map":{"version":3,"sources":["/home/augustin/vader-dapp/src/components/BalanceIndicator.js"],"names":["React","PropTypes","BigNumber","utils","Button","Box","Image","Fade","Popover","PopoverTrigger","Portal","PopoverContent","PopoverBody","Flex","Container","useBreakpointValue","defaults","useXvaderPrice","prettifyNumber","useERC20Balance","Item","props","propTypes","name","string","isRequired","token","object","value","any","logoURI","symbol","base","md","BalanceIndicator","xvdrExchangeRate","vaderBalance","vader","address","xvaderBalance","xvader","usdvBalance","usdv","totalBalance","total","global","data","formatEther","from","mul","div","parseUnits","add","placement","view","lg","Number","gt","sm"],"mappings":"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","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport { BigNumber, utils } from 'ethers'\nimport { Button, Box, Image, Fade, Popover, PopoverTrigger,\n\tPortal, PopoverContent,\n\tPopoverBody, Flex, Container, useBreakpointValue } from '@chakra-ui/react'\nimport defaults from '../common/defaults'\nimport { useXvaderPrice } from '../hooks/useXvaderPrice'\nimport { prettifyNumber } from '../common/utils'\nimport { useERC20Balance } from '../hooks/useERC20Balance'\n\nconst Item = (props) => {\n\n\tItem.propTypes = {\n\t\tname: PropTypes.string.isRequired,\n\t\ttoken: PropTypes.object.isRequired,\n\t\tvalue: PropTypes.any.isRequired,\n\t}\n\n\treturn (\n\t\t<Box>\n\t\t\t<Box>\n\t\t\t\t{props.name}\n\t\t\t</Box>\n\t\t\t<Flex>\n\t\t\t\t<Container p='0'>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Flex\n\t\t\t\t\t\t\tjustifyContent='flex-start'\n\t\t\t\t\t\t\tfontWeight='bolder'>\n\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\twidth='24px'\n\t\t\t\t\t\t\t\theight='24px'\n\t\t\t\t\t\t\t\tmr='5px'\n\t\t\t\t\t\t\t\tsrc={props.token.logoURI}\n\t\t\t\t\t\t\t\talt={`${props.token.name} token`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{props.token.symbol}\n\t\t\t\t\t\t</Flex>\n\t\t\t\t\t</Box>\n\t\t\t\t</Container>\n\t\t\t\t<Container p='0'>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tfontSize={{ base: '1rem', md: '1.2rem' }}\n\t\t\t\t\t\tfontWeight='bold'\n\t\t\t\t\t\ttextAlign='right'\n\t\t\t\t\t>\n\t\t\t\t\t\t{props.value}\n\t\t\t\t\t</Box>\n\t\t\t\t</Container>\n\t\t\t</Flex>\n\t\t</Box>\n\t)\n}\n\nexport const BalanceIndicator = () => {\n\n\tconst xvdrExchangeRate = useXvaderPrice()\n\tconst vaderBalance = useERC20Balance(defaults.vader.address)\n\tconst xvaderBalance = useERC20Balance(defaults.xvader.address)\n\tconst usdvBalance = useERC20Balance(defaults.usdv.address)\n\n\tconst totalBalance = (total = true) => {\n\t\tif (xvdrExchangeRate?.[0]?.global.value &&\n\t\t\txvaderBalance?.data &&\n\t\t\tvaderBalance?.data) {\n\t\t\treturn utils.formatEther(\n\t\t\t\tBigNumber.from(xvdrExchangeRate?.[0]?.global?.value)\n\t\t\t\t\t.mul(xvaderBalance?.data)\n\t\t\t\t\t.div(utils.parseUnits('1', 18))\n\t\t\t\t\t.add(total ? vaderBalance?.data : 0))\n\t\t}\n\t}\n\n\tconst placement = useBreakpointValue({ base: 'bottom-end', md: 'auto' })\n\tconst view =\tuseBreakpointValue({\n\t\tbase: false,\n\t\tmd: false,\n\t\tlg: true,\n\t})\n\n\treturn (\n\t\t<>\n\t\t\t{(Number(totalBalance()) > 0 ||\n\t\t\t\tusdvBalance?.data?.gt(0)) &&\n\t\t\t\t<>\n\t\t\t\t\t<Popover\n\t\t\t\t\t\tcloseOnEsc={true}\n\t\t\t\t\t\tcloseOnBlur={true}\n\t\t\t\t\t\tmatchWidth={true}\n\t\t\t\t\t\tplacement={placement}\n\t\t\t\t\t>\n\t\t\t\t\t\t<PopoverTrigger>\n\t\t\t\t\t\t\t<Fade\n\t\t\t\t\t\t\t\tunmountOnExit={true}\n\t\t\t\t\t\t\t\tin={true}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tsize='md'\n\t\t\t\t\t\t\t\t\tfontSize={{ base: '0.65rem', sm: 'sm' }}\n\t\t\t\t\t\t\t\t\tvariant='outlineAlter'\n\t\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\t\ttransform={{\n\t\t\t\t\t\t\t\t\t\tbase: 'scale(0.86)',\n\t\t\t\t\t\t\t\t\t\tsm: 'scale(1)',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\tdisplay='inline-flex'\n\t\t\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\t\t\tjustifyContent='center'\n\t\t\t\t\t\t\t\t\t\tborderRadius='12px'\n\t\t\t\t\t\t\t\t\t\tbackground='#000'\n\t\t\t\t\t\t\t\t\t\tp='7px 10px'\n\t\t\t\t\t\t\t\t\t\tgridGap='13px'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{Number(totalBalance()) > 0 &&\n\t\t\t\t\t\t\t\t\t\t\t<Box d='flex' alignItems='center'>\n\t\t\t\t\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth='24px'\n\t\t\t\t\t\t\t\t\t\t\t\t\theight='24px'\n\t\t\t\t\t\t\t\t\t\t\t\t\tmr='5px'\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={defaults.vader.logoURI}\n\t\t\t\t\t\t\t\t\t\t\t\t\talt={`${defaults.vader.name} token`}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\t\t\t\tas='h3'\n\t\t\t\t\t\t\t\t\t\t\t\t\tm='0'\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize='1.02rem'\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight='bold'\n\t\t\t\t\t\t\t\t\t\t\t\t\ttextTransform='capitalize'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{prettifyNumber(totalBalance(true), 0, 2, 'us', 'compact')}\n\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t{usdvBalance?.data?.gt(0) &&\n\t\t\t\t\t\t\t\t\t\tview &&\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\t\t\t\td='flex'\n\t\t\t\t\t\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\t\t\t\t\t\toverflow='hidden'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth='24px'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theight='24px'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmr='5px'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={defaults.usdv.logoURI}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={`${defaults.usdv.name} token`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas='h3'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tm='0'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize='1.02rem'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight='bold'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextTransform='capitalize'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{prettifyNumber(utils.formatEther(usdvBalance?.data), 0, 2, 'us', 'compact')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Fade>\n\t\t\t\t\t\t</PopoverTrigger>\n\t\t\t\t\t\t<Portal>\n\t\t\t\t\t\t\t<PopoverContent\n\t\t\t\t\t\t\t\tmaxW='304px'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PopoverBody\n\t\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\t\tflexDir='column'\n\t\t\t\t\t\t\t\t\tgridGap='0.9rem'\n\t\t\t\t\t\t\t\t\tpadding='1.6rem 1.6rem'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{Number(totalBalance(false)) > 0 &&\n\t\t\t\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\t\t\t\tname={'Staking'}\n\t\t\t\t\t\t\t\t\t\t\ttoken={defaults.vader}\n\t\t\t\t\t\t\t\t\t\t\tvalue={prettifyNumber(totalBalance(false), 0, 2)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{xvaderBalance?.data?.gt(0) &&\n\t\t\t\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\t\t\t\tname={'Balance'}\n\t\t\t\t\t\t\t\t\t\t\ttoken={defaults.xvader}\n\t\t\t\t\t\t\t\t\t\t\tvalue={prettifyNumber(utils.formatEther(xvaderBalance.data), 0, 2)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{vaderBalance?.data?.gt(0) &&\n\t\t\t\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\t\t\t\tname={'Balance'}\n\t\t\t\t\t\t\t\t\t\t\ttoken={defaults.vader}\n\t\t\t\t\t\t\t\t\t\t\tvalue={prettifyNumber(utils.formatEther(vaderBalance.data), 0, 2)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{usdvBalance?.data?.gt(0) &&\n\t\t\t\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\t\t\t\tname={'Balance'}\n\t\t\t\t\t\t\t\t\t\t\ttoken={defaults.usdv}\n\t\t\t\t\t\t\t\t\t\t\tvalue={prettifyNumber(utils.formatEther(usdvBalance.data), 0, 2)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</PopoverBody>\n\t\t\t\t\t\t\t</PopoverContent>\n\t\t\t\t\t\t</Portal>\n\t\t\t\t\t</Popover>\n\t\t\t\t</>\n\t\t\t}\n\t\t</>\n\t)\n}\n"]},"metadata":{},"sourceType":"module"}